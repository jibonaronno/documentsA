<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>Radxa from documentsB</title>
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <!-- BEGIN syntax highlighter -->
    <script type="text/javascript" src="sh/shCore.js"></script>
    
    <!-- script type="text/javascript" src="sh/shBrushJScript.js"></script -->
    <script type="text/javascript" src="syntaxhighlighter.js"></script>

    <link type="text/css" rel="stylesheet" href="syntaxhighlighter.css"/>
    <link type="text/css" rel="stylesheet" href="sh/shCore.css"/>
    <link type="text/css" rel="stylesheet" href="sh/shThemeDefault.css"/>
    <link href="https://fonts.googleapis.com/css?family=Gruppo" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <script type="text/javascript">
      SyntaxHighlighter.all();
    </script>
    <!-- END syntax highlighter -->

    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="linuxsetup.css">
    <link rel="stylesheet" href="bash-highlight.css">
  </head>
  <body>
  
<div style="padding: 20px;font-size: 24px; line-height: 40px">
<div class="title_b">Radxa Compile</div>

<!-- SHOW HIDE START 001  -->

<style type="text/css">
div[id=div-001] {
  display: none;
}
  input[id=toggle-001]:checked ~ div[id=div-001] {
    display: block;
    }
</style>

<h2><label for="toggle-001">Compiling Command & References</label></h2>
<input type="checkbox" id="toggle-001" style="display: none;">

<div id="div-001">
    <img src="img/img00.jpg" width="45%" alt="IMAGE"> <br>

    <pp>Parameter From Original radxa_rock_pro For Vendor Provided Linux 3.0.18</pp> <br>
    <a href="https://github.com/frep/radxa/blob/fefb7bbb5eedc8e20aae77934e4126c429f283e7/rock_pro/kernel/rabian/150815/parameter#L11-L11">Parameter Source Github Link</a> <br>
    <pre class="brush: bash;">
        FIRMWARE_VER:4.2.2
        MACHINE_MODEL:radxa_rock_pro
        MACHINE_ID:007
        MANUFACTURER:RADXA
        MAGIC: 0x5041524B
        ATAG: 0x60000800
        MACHINE: 3066
        CHECK_MASK: 0x80
        KERNEL_IMG: 0x60408000
        #RECOVER_KEY: 1,1,0,20,0
        CMDLINE:console=ttyFIQ0,115200 console=tty0 root=/dev/block/mtd/by-name/linuxroot rw rootfstype=ext4 init=/sbin/init mac_addr=de:ad:de:ad:be:ef initrd=0x62000000,0x00800000 mtdparts=rk29xxnand:0x00002000@0x00002000(uboot),0x00008000@0x00004000(boot),-@0x000c0000(linuxroot)
    </pre>
    <br>
    <pp>Compile Device Tree Blob for Radxa Rock using Linux Kernel 5.15.196</pp>
    <br>
    <pre class="brush: bash;">
        jibon@ubuntu22:~/radxa/linux-5.15.196$ make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- -j4 zImage
        jibon@ubuntu22:~/radxa/linux-5.15.196$ make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- rk3188-radxarock.dtb
    </pre>
    <br>
    <pre class="brush: bash;">
        jibon@ubuntu22:~/radxa/linux-5.15.196$ sudo cat arch/arm/boot/zImage arch/arm/boot/dts/rk3188-radxarock.dtb > zImage-dtb
        jibon@ubuntu22:~/radxa/linux-5.15.196$ sudo mkbootimg --kernel zImage-dtb --ramdisk /dev/null -o xboot.img
        jibon@ubuntu22:~/radxa/linux-5.15.196$ sudo cp xboot.img /mnt/shared/
        
        jibon@ubuntu22:~/radxa/linux-5.15.196$ sudo cp arch/arm/boot/dts/rk3188-radxarock.dts /mnt/shared/

    </pre>

    <pp> Download and compile mtd-utils for ARM using arm-linux-gnueabihf toolchain </pp> <br>
    <pre class="brush: bash;">
        jibon@ubuntu22:~/radxa/linux-5.15.196$ sudo apt-get install autoconf automake pkg-config m4
        jibon@ubuntu22:~/radxa/linux-5.15.196$ sudo apt install automake libtool libtool-bin pkg-config build-essential git
        jibon@ubuntu22:~/radxa/linux-5.15.196$ cd /tmp && git clone --depth 1 --branch v2.1.5 git://git.infradead.org/mtd-utils.git mtd-utils-build 2>&1
        jibon@ubuntu22:/tmp$ cd /tmp/mtd-utils-build && ./autogen.sh 2>&1
        jibon@ubuntu22:/tmp/mtd-utils-build$ ./configure --host=arm-linux-gnueabihf --without-ubifs --without-jffs --disable-tests --disable-unit-tests 2>&1 | grep -E "(checking|configure:|WARNING|error)" | tail -20
        jibon@ubuntu22:/tmp/mtd-utils-build$ make -j$(nproc) 2>&1
        jibon@ubuntu22:/tmp/mtd-utils-build$ file flash_erase nandwrite nanddump mtdinfo 2>&1
        jibon@ubuntu22:/tmp/mtd-utils-build$ arm-linux-gnueabihf-strip flash_erase nandwrite nanddump mtdinfo
        jibon@ubuntu22:/tmp/mtd-utils-build$ sudo cp flash_erase nandwrite nanddump mtdinfo /home/jibon/radxa/tiny-rootfx/bin/
        jibon@ubuntu22:/tmp/mtd-utils-build$ ls -lh /home/jibon/radxa/tiny-rootfx/bin/{flash_erase,nandwrite,nanddump,mtdinfo}
        jibon@ubuntu22:/tmp/mtd-utils-build$ arm-linux-gnueabihf-readelf -d /tmp/mtd-utils-build/flash_erase | grep NEEDED
        jibon@ubuntu22:/tmp/mtd-utils-build$ 
        jibon@ubuntu22:/tmp/mtd-utils-build$ 
    </pre>
    <br>
    
    mtd utils binaries uses dynamic linking by default which requires libraries to be present in the target system <br>
    arm-linux-gnueabihf toolchain provides dynamic libraries under /usr/arm-linux-gnueabihf/lib/ <br>
    Copy these libraries to the target system's /lib/ folder to make the mtd-utils work <br>
    Alternatively we can compile static version of mtd-utils binaries to avoid dependency on target system libraries <br>
    <br>
    Compiling static version of mtd-utils nandwrite mtdinfo and other binaries <br>
    <pp>Find the location of libc.so.6 and ld-linux-armhf.so.3 for arm-linux-gnueabihf toolchain</pp> <br>
    <pre class="brush: bash;">
        jibon@ubuntu22:/tmp/mtd-utils-build$ find /usr/arm-linux-gnueabihf -name "libc.so.6" -o -name "ld-linux-armhf.so.3" # -o means OR
        /usr/arm-linux-gnueabihf/lib/libc.so.6
        /usr/arm-linux-gnueabihf/lib/ld-linux-armhf.so.3
        jibon@ubuntu22:~/radxa/linux-5.15.196$ find /usr -name "ld-linux-armhf.so.3"
        /usr/arm-linux-gnueabihf/lib/ld-linux-armhf.so.3
    </pre>
    
    <br>
    <pre class="brush: bash;">
        jibon@ubuntu22:/tmp/mtd-utils-build$ make clean
        jibon@ubuntu22:/tmp/mtd-utils-build$ CFLAGS="-static" LDFLAGS="-static" make -j$(nproc) 2>&1
        jibon@ubuntu22:/tmp/mtd-utils-build$ file flash_erase nandwrite nanddump mtdinfo
        jibon@ubuntu22:/tmp/mtd-utils-build$ sudo cp flash_erase nandwrite nanddump mtdinfo /home/jibon/radxa/tiny-rootfx/bin/
        jibon@ubuntu22:/tmp/mtd-utils-build$ ls -lh /home/jibon/radxa/tiny-rootfx/bin/{flash_erase,nandwrite,nanddump,mtdinfo}
        jibon@ubuntu22:/tmp/mtd-utils-build$ arm-linux-gnueabihf-readelf -d /tmp/mtd-utils-build/flash_erase | grep NEEDED
        jibon@ubuntu22:/tmp/mtd-utils-build$

    </pre>
    <br>
    <p3>rockchip-nand-controller.c</p3> <br>
    <p4>..../linux-5.15..../drivers/mtd/nand/raw/rockchip-nand-controller.c</p4> <br>

    <pre class="brush: bash;">
        cat /proc/kallsyms | grep rk30xxnand_ko > /tmp/symbols.txt

        

        cat /tmp/symbols.txt | head -100
    </pre> <br>
</div>
<!-- SHOW HIDE END 001  -->


  <!-- SHOW HIDE START 006  -->
  <style type="text/css">
    div[id=div-006] {
      display: none;
    }
      input[id=toggle-006]:checked ~ div[id=div-006] {
        display: block;
        }
    </style>
    
    <h2><label for="toggle-006">Linux Kernel rk3188-stable-3.0</label></h2>
    <input type="checkbox" id="toggle-006" style="display: none;">
    
    <div id="div-006">

        <p5>https://apt.radxa.com/ </p5> <br>
        <p5>https://github.com/radxa/apt </p5> <br>
        <p5>https://dl.radxa.com/rock_pro/tools/linux/ </p5> <br>

        <img src="img/img022.jpg" width="30%" alt="IMAGE"> <br>
      
        <p5>https://github.com/radxa/linux-rockchip/tree/mirror/rk3188-stable-3.0</p5> <br>
        <code>sudo git clone https://github.com/radxa/linux-rockchip.git</code> <br>
        <code>git config --global --add safe.directory /home/jibon/radxa/linux-rockchip</code> <br>
        <code>sudo git checkout remotes/origin/mirror/rk3188-stable-3.0</code> <br>

        <pre class="brush: bash;">
            jibon@ubuntu22:~/radxa/linux-rockchip$ ls drivers/mtd/
            afs.c      cmdlinepart.c  inftlcore.c   lpddr     mtd_blkdevs.c  mtdchar.c    mtdcore.h  mtdsuper.c  nftlcore.c   onenand    rknand    ssfdc.c
            ar7part.c  devices        inftlmount.c  Makefile  mtdblock.c     mtdconcat.c  mtdoops.c  mtdswap.c   nftlmount.c  redboot.c  sm_ftl.c  tests
            chips      ftl.c          Kconfig       maps      mtdblock_ro.c  mtdcore.c    mtdpart.c  nand        ofpart.c     rfd_ftl.c  sm_ftl.h  ubi
            jibon@ubuntu22:~/radxa/linux-rockchip$ ls drivers/mtd/rknand/
            api_flash.h  Kconfig  Makefile  rknand_base.h  rknand_base_ko.c
            jibon@ubuntu22:~/radxa/linux-rockchip$
        </pre>

        <pre class="brush: bash;">
            jibon@ubuntu22:~/radxa/linux-5.15.196$ find /home/jibon/radxa/linux-rockchip -name "*.c" -o -name "*.h" | xargs grep -l "rknand_buffer\|FlashInit\|add_rknand_device"
            /home/jibon/radxa/linux-rockchip/drivers/mtd/rknand/rknand_base.h
            /home/jibon/radxa/linux-rockchip/drivers/mtd/rknand/rknand_base_ko.c

            jibon@ubuntu22:~/radxa/linux-5.15.196$ ind /home/jibon/radxa/linux-rockchip -name "*buffer*.c"
            Command 'ind' not found, but there are 18 similar ones.
            jibon@ubuntu22:~/radxa/linux-5.15.196$ find /home/jibon/radxa/linux-rockchip -name "*buffer*.c"
            /home/jibon/radxa/linux-rockchip/net/batman-adv/ring_buffer.c
            /home/jibon/radxa/linux-rockchip/net/ceph/buffer.c
            /home/jibon/radxa/linux-rockchip/sound/firewire/packets-buffer.c
            /home/jibon/radxa/linux-rockchip/fs/hpfs/buffer.c
            /home/jibon/radxa/linux-rockchip/fs/ocfs2/buffer_head_io.c
            /home/jibon/radxa/linux-rockchip/fs/buffer.c
            /home/jibon/radxa/linux-rockchip/kernel/trace/ring_buffer.c
            /home/jibon/radxa/linux-rockchip/kernel/trace/ring_buffer_benchmark.c
            /home/jibon/radxa/linux-rockchip/drivers/usb/core/buffer.c
            /home/jibon/radxa/linux-rockchip/drivers/char/xilinx_hwicap/buffer_icap.c
            /home/jibon/radxa/linux-rockchip/drivers/tty/tty_buffer.c
            /home/jibon/radxa/linux-rockchip/drivers/media/dvb/dvb-core/dvb_ringbuffer.c
            /home/jibon/radxa/linux-rockchip/drivers/media/video/saa7164/saa7164-buffer.c
            /home/jibon/radxa/linux-rockchip/drivers/gpu/drm/i915/i915_gem_execbuffer.c
            /home/jibon/radxa/linux-rockchip/drivers/gpu/drm/i915/intel_ringbuffer.c
            /home/jibon/radxa/linux-rockchip/drivers/gpu/drm/drm_buffer.c
            /home/jibon/radxa/linux-rockchip/drivers/gpu/drm/vmwgfx/vmwgfx_buffer.c
            /home/jibon/radxa/linux-rockchip/drivers/staging/hv/ring_buffer.c
            /home/jibon/radxa/linux-rockchip/drivers/staging/speakup/buffers.c
            /home/jibon/radxa/linux-rockchip/drivers/staging/iio/Documentation/generic_buffer.c
            /home/jibon/radxa/linux-rockchip/drivers/oprofile/cpu_buffer.c
            /home/jibon/radxa/linux-rockchip/drivers/oprofile/event_buffer.c
            /home/jibon/radxa/linux-rockchip/drivers/oprofile/buffer_sync.c
            /home/jibon/radxa/linux-rockchip/drivers/cmmb/cmmb_ringbuffer.c
            jibon@ubuntu22:~/radxa/linux-5.15.196$ ls -R /home/jibon/radxa/linux-rockchip/drivers/mtd/rknand/
            /home/jibon/radxa/linux-rockchip/drivers/mtd/rknand/:
            api_flash.h  Kconfig  Makefile  rknand_base.h  rknand_base_ko.c
            jibon@ubuntu22:~/radxa/linux-5.15.196$ ls -R /home/jibon/radxa/linux-rockchip/drivers/mtd/
            /home/jibon/radxa/linux-rockchip/drivers/mtd/:
            afs.c          ftl.c         Makefile       mtdchar.c    mtdpart.c   nftlmount.c  rknand    ubi
            ar7part.c      inftlcore.c   maps           mtdconcat.c  mtdsuper.c  ofpart.c     sm_ftl.c
            chips          inftlmount.c  mtd_blkdevs.c  mtdcore.c    mtdswap.c   onenand      sm_ftl.h
            cmdlinepart.c  Kconfig       mtdblock.c     mtdcore.h    nand        redboot.c    ssfdc.c
            devices        lpddr         mtdblock_ro.c  mtdoops.c    nftlcore.c  rfd_ftl.c    tests

            /home/jibon/radxa/linux-rockchip/drivers/mtd/chips:
            cfi_cmdset_0001.c  cfi_cmdset_0020.c  cfi_util.c  fwh_lock.h   jedec_probe.c  Makefile      map_ram.c
            cfi_cmdset_0002.c  cfi_probe.c        chipreg.c   gen_probe.c  Kconfig        map_absent.c  map_rom.c

            /home/jibon/radxa/linux-rockchip/drivers/mtd/devices:
            block2mtd.c  doc2001.c      docecc.c    Kconfig  m25p80.c  ms02-nv.c  mtd_dataflash.c  phram.c   slram.c
            doc2000.c    doc2001plus.c  docprobe.c  lart.c   Makefile  ms02-nv.h  mtdram.c         pmc551.c  sst25l.c

            /home/jibon/radxa/linux-rockchip/drivers/mtd/lpddr:
            Kconfig  lpddr_cmds.c  Makefile  qinfo_probe.c

            /home/jibon/radxa/linux-rockchip/drivers/mtd/maps:
            amd76xrom.c         edb7312.c          lantiq-flash.c      pismo.c            sun_uflash.c
            autcpu12-nvram.c    esb2rom.c          latch-addr-flash.c  plat-ram.c         tqm8xxl.c
            bcm963xx-flash.c    fortunet.c         Makefile            pmcmsp-flash.c     ts5500_flash.c
            bfin-async-flash.c  gpio-addr-flash.c  map_funcs.c         pxa2xx-flash.c     tsunami_flash.c
            cdb89712.c          h720x-flash.c      mbx860.c            rbtx4939-flash.c   uclinux.c
            ceiva.c             ichxrom.c          netsc520.c          rpxlite.c          vmax301.c
            cfi_flagadm.c       impa7.c            nettel.c            sa1100-flash.c     vmu-flash.c
            ck804xrom.c         intel_vr_nor.c     octagon-5066.c      sbc_gxx.c          wr_sbc82xx_flash.c
            dbox2-flash.c       ixp2000.c          pci.c               sc520cdp.c
            dc21285.c           ixp4xx.c           pcmciamtd.c         scb2_flash.c
            dilnetpc.c          Kconfig            physmap.c           scx200_docflash.c
            dmv182.c            l440gx.c           physmap_of.c        solutionengine.c

            /home/jibon/radxa/linux-rockchip/drivers/mtd/nand:
            alauda.c          cmx270_nand.c    gpio.c         nand_bcm_umi.c  pasemi_nand.c     sh_flctl.c
            ams-delta.c       cs553x_nand.c    h1910.c        nand_bcm_umi.h  plat_nand.c       sm_common.c
            atmel_nand.c      davinci_nand.c   jz4740_nand.c  nand_ecc.c      ppchameleonevb.c  sm_common.h
            atmel_nand_ecc.h  denali.c         Kconfig        nand_ids.c      pxa3xx_nand.c     socrates_nand.c
            au1550nd.c        denali.h         Makefile       nandsim.c       r852.c            spia.c
            autcpu12.c        diskonchip.c     mpc5121_nfc.c  ndfc.c          r852.h            tmio_nand.c
            bcm_umi_bch.c     edb7312.c        mxc_nand.c     nomadik_nand.c  rk29_nand.c       txx9ndfmc.c
            bcm_umi_nand.c    fsl_elbc_nand.c  nand_base.c    nuc900_nand.c   rtc_from4.c
            bf5xx_nand.c      fsl_upm.c        nand_bbt.c     omap2.c         s3c2410.c
            cafe_nand.c       fsmc_nand.c      nand_bch.c     orion_nand.c    sharpsl.c

            /home/jibon/radxa/linux-rockchip/drivers/mtd/onenand:
            generic.c  Kconfig  Makefile  omap2.c  onenand_base.c  onenand_bbt.c  onenand_sim.c  samsung.c

            /home/jibon/radxa/linux-rockchip/drivers/mtd/rknand:
            api_flash.h  Kconfig  Makefile  rknand_base.h  rknand_base_ko.c

            /home/jibon/radxa/linux-rockchip/drivers/mtd/tests:
            Makefile           mtd_oobtest.c   mtd_readtest.c   mtd_stresstest.c   mtd_torturetest.c
            mtd_nandecctest.c  mtd_pagetest.c  mtd_speedtest.c  mtd_subpagetest.c

            /home/jibon/radxa/linux-rockchip/drivers/mtd/ubi:
            build.c  debug.c  eba.c     io.c    Kconfig   misc.c  scan.h  ubi-media.h  vmt.c   wl.c
            cdev.c   debug.h  gluebi.c  kapi.c  Makefile  scan.c  ubi.h   upd.c        vtbl.c
        </pre>
        <br>

        <pp>kernel module information </pp>
        <pre class="brush: bash;">
            $cat /proc/modules
            8723au 853088 0 - Live 0xbf05e000
            rtk_btusb 13540 0 - Live 0xbf053000
            rk30xxnand_ko 166524 0 - Live 0xbf01a000
            fbcon 35136 70 - Live 0xbf00d000
            bitblit 3992 1 fbcon, Live 0xbf009000
            softcursor 924 1 bitblit, Live 0xbf005000
            font 7050 1 fbcon, Live 0xbf000000
        </pre>
        <br>

    <p3>rockchip-nand-controller.c</p3> <br>
    <p4>..../linux-5.15..../drivers/mtd/nand/raw/rockchip-nand-controller.c</p4> <br>

      
    </div>

  <!-- SHOW HIDE END 006  -->

  <!-- SHOW HIDE START 007  -->
  <style type="text/css">
    div[id=div-007] {
      display: none;
    }
      input[id=toggle-007]:checked ~ div[id=div-007] {
        display: block;
        }
    </style>
    
    <h2><label for="toggle-007">Issue rknand nand mtd Kernel Logs</label></h2>
    <input type="checkbox" id="toggle-007" style="display: none;">
    
    <div id="div-007">
        <pre class="brush: bash;">
        brd: module loaded
        nand: device found, Manufacturer ID: 0x2c, Chip ID: 0x64
        nand: Micron MT29F64G08CBABAWP
        nand: 8192 MiB, MLC, erase size: 2048 KiB, page size: 8192, OOB size: 744
        rockchip-nfc 10500000.nand-controller: read page: fff00 ecc error!
        rockchip-nfc 10500000.nand-controller: read page: ffe00 ecc error!
        rockchip-nfc 10500000.nand-controller: read page: ffd00 ecc error!
        rockchip-nfc 10500000.nand-controller: read page: ffc00 ecc error!
        Bad block table not found for chip 0
        rockchip-nfc 10500000.nand-controller: read page: fff00 ecc error!
        rockchip-nfc 10500000.nand-controller: read page: ffe00 ecc error!
        rockchip-nfc 10500000.nand-controller: read page: ffd00 ecc error!
        rockchip-nfc 10500000.nand-controller: read page: ffc00 ecc error!
        Bad block table not found for chip 0
        Scanning device for bad blocks
        rockchip-nfc 10500000.nand-controller: read page: 0 ecc error!
        Bad eraseblock 0 at 0x000000000000
        rockchip-nfc 10500000.nand-controller: read page: 100 ecc error!
        Bad eraseblock 1 at 0x000000200000
        rockchip-nfc 10500000.nand-controller: read page: 200 ecc error!
        </pre>

    </div>
  <!-- SHOW HIDE END 007  -->

<!-- SHOW HIDE START 008  -->
<style type="text/css">
  div[id=div-008] {
    display: none;
  }
    input[id=toggle-008]:checked ~ div[id=div-008] {
      display: block;
      }
  </style>
  
  <h2><label for="toggle-008">Edit /etc/apt/sources.list for apt install </label></h2>
  <input type="checkbox" id="toggle-008" style="display: none;">
  
  <div id="div-008">
    <pre class="brush: bash;">
    # Edit and add nano /etc/apt/sources.list 
    deb [trusted=yes] http://archive.debian.org/debian wheezy main contrib non-free 
    deb-src http://archive.debian.org/debian wheezy main contrib non-free 
    # To bypass GPG KEY Auth 
    echo 'Acquire::Check-Valid-Until "0";' > /etc/apt/apt.conf.d/99ignore-valid-until 
    # Remove or Replace Dead PPAs 
    # Delete files under /etc/apt/sources.list.d/. 
    sudo apt-get update 
    apt install curl
    </pre> 
  </div>
<!-- SHOW HIDE END 008  -->

<!-- SHOW HIDE START 009  -->
<style type="text/css">
  div[id=div-009] {
    display: none;
  }
    input[id=toggle-009]:checked ~ div[id=div-009] {
      display: block;
      }
  </style>
  
  <h2><label for="toggle-009">Installing mtd-utils </label></h2>
  <input type="checkbox" id="toggle-009" style="display: none;">
  
  <div id="div-009">
    <pp>sudo apt install mtd-utils</pp> <br>
      <pre class="brush: bash;">
        sudo apt install mtd-utils

        rock@rabian-rock-pro:/etc/apt$ sudo apt install mtd-utils

        Reading package lists... Done
        Building dependency tree       
        Reading state information... Done
        The following extra packages will be installed:
        liblzo2-2
        The following NEW packages will be installed:
        liblzo2-2 mtd-utils
        0 upgraded, 2 newly installed, 0 to remove and 1 not upgraded.
        Need to get 326 kB of archives.
        After this operation, 729 kB of additional disk space will be used.
        Do you want to continue? [Y/n] y
        Get:1 http://archive.debian.org/debian/ wheezy/main liblzo2-2 armhf 2.06-1+deb7u1 [54.8 kB]
        Get:2 http://archive.debian.org/debian/ wheezy/main mtd-utils armhf 1:1.5.0-1 [271 kB]
        Fetched 326 kB in 1s (271 kB/s)
        perl: warning: Setting locale failed.
        perl: warning: Please check that your locale settings:
            LANGUAGE = (unset),
            LC_ALL = (unset),
            LC_TIME = "ko_KR.UTF-8",
            LC_MONETARY = "ko_KR.UTF-8",
            LC_ADDRESS = "ko_KR.UTF-8",
            LC_TELEPHONE = "ko_KR.UTF-8",
            LC_NAME = "ko_KR.UTF-8",
            LC_MEASUREMENT = "ko_KR.UTF-8",
            LC_IDENTIFICATION = "ko_KR.UTF-8",
            LC_NUMERIC = "ko_KR.UTF-8",
            LC_PAPER = "ko_KR.UTF-8",
            LANG = "C.UTF-8"
            are supported and installed on your system.
            perl: warning: Falling back to a fallback locale ("C.UTF-8").
            locale: Cannot set LC_ALL to default locale: No such file or directory
            debconf: delaying package configuration, since apt-utils is not installed
            Selecting previously unselected package liblzo2-2:armhf.
            (Reading database ... 29897 files and directories currently installed.)
            Preparing to unpack .../liblzo2-2_2.06-1+deb7u1_armhf.deb ...
            Unpacking liblzo2-2:armhf (2.06-1+deb7u1) ...
            Selecting previously unselected package mtd-utils.
            Preparing to unpack .../mtd-utils_1%3a1.5.0-1_armhf.deb ...
            Unpacking mtd-utils (1:1.5.0-1) ...
            Setting up liblzo2-2:armhf (2.06-1+deb7u1) ...
            Setting up mtd-utils (1:1.5.0-1) ...
            Processing triggers for libc-bin (2.19-18) ...
            rock@rabian-rock-pro:/etc/apt$ 
      </pre>
  </div>
<!-- SHOW HIDE END 009  -->

<!-- SHOW HIDE START 010  -->
<style type="text/css">
  div[id=div-010] {
    display: none;
  }
    input[id=toggle-010]:checked ~ div[id=div-010] {
      display: block;
      }
  </style>
  
  <h2><label for="toggle-010"> Copilot mtd-utils test </label></h2>
  <input type="checkbox" id="toggle-010" style="display: none;">
  
  <div id="div-010">
    <pre brush="bash;">
        Excellent! The installation succeeded! Now let's verify that the old mtd-utils from Debian 7 (Wheezy) repository work with your kernel 3.0.36: 

        Ran terminal command: ssh -oHostKeyAlgorithms=+ssh-rsa,ssh-dss rock@192.168.10.62 "mkfs.ubifs --version && echo '---' && mkfs.jffs2 --version && echo '---' && ubinize --version"

        Ran terminal command: ssh -oHostKeyAlgorithms=+ssh-rsa,ssh-dss rock@192.168.10.62 "dpkg -L mtd-utils | grep bin"

        Great! They're in sbin. Let's test them: 

        Ran terminal command: ssh -oHostKeyAlgorithms=+ssh-rsa,ssh-dss rock@192.168.10.62 "/usr/sbin/mkfs.ubifs --version && echo '---' && /usr/sbin/mkfs.jffs2 --version && echo '---' && /usr/sbin/ubinize --version"

        Perfect! The old mtd-utils from Debian 7 Wheezy work! Let's verify they actually function with your kernel: 

        Ran terminal command: ssh -oHostKeyAlgorithms=+ssh-rsa,ssh-dss rock@192.168.10.62 "/usr/sbin/mkfs.ubifs --help 2>&1 | head -15"

        Excellent! Now let's test mtdinfo to make sure it can interact with MTD devices: 

        Ran terminal command: ssh -oHostKeyAlgorithms=+ssh-rsa,ssh-dss rock@192.168.10.62 "/usr/sbin/mtdinfo -a 2>&1 | head -20"

        **Perfect!** âœ… The old mtd-utils (version 1.5.0 from Debian 7 Wheezy) work perfectly with your Linux kernel 3.0.36!

        ## Summary

        **Problem solved!** Your Radxa Rock Pro with kernel 3.0.36 now has working mtd-utils:

        - **Installed version**: mtd-utils 1.5.0-1 from Debian 7 (Wheezy)
        - **Location**: sbin
        - **Key tools available**:
        - `/usr/sbin/mkfs.ubifs` - Create UBIFS filesystems
        - `/usr/sbin/mkfs.jffs2` - Create JFFS2 filesystems  
        - `/usr/sbin/ubinize` - Create UBI images
        - `/usr/sbin/mtdinfo` - Display MTD device information
        - `/usr/sbin/nandwrite`, `/usr/sbin/nanddump` - NAND operations
        - And many more...

        The key was using an old repository (Debian 7 from 2013-2015) that was built for systems with similar kernel versions. This avoided all the GLIBC version compatibility issues we encountered with modern builds.

        Your MTD devices are detected correctly (mtd0, mtd1, mtd2) and ready to use!
    </pre>
  </div>
<!-- SHOW HIDE START 010  -->

<!--   -->

</div>

<!--
<pre class="brush:js;">
</pre><br /><br />
-->  
</body>
</html>
